{
   "version": 2,
   "builds": [
     {
       "src": "/package.json",
       "use": "@vercel/static-build",
       "config": {
         "distDir": "dist"
       }
     },
     {
       "src": "server/src/app.js",
       "use": "@vercel/node"
     }
   ],
   "rewrites": [
     {
       "source": "/api/(.*)",
       "destination": "/server/src/app.js"
     },
     {
       "source": "/sw.js",
       "destination": "/dist/sw.js"
     },
     {
       "source": "/(.*)\\.(?:js|css|png|jpg|jpeg|gif|ico|json|svg|webp)",
       "destination": "/dist/$1.$2"
     },
     {
       "source": "/((?!api).*)",
       "destination": "/dist/index.html"
     }
   ],
   "headers": [
     {
       "source": "/sw.js",
       "headers": [
         {
           "key": "Cache-Control",
           "value": "public, max-age=0, must-revalidate"
         },
         {
           "key": "Service-Worker-Allowed",
           "value": "/"
         }
       ]
     },
     {
       "source": "/(.*)",
       "headers": [
         {
           "key": "Cache-Control",
           "value": "public, max-age=0, must-revalidate"
         }
       ]
     }
   ]
 }