{
   "version": 2,
   "builds": [
     {
       "src": "client/package.json",
       "use": "@vercel/static-build",
       "config": {
         "distDir": "dist"
       }
     },
     {
       "src": "server/src/app.js",
       "use": "@vercel/node"
     }
   ],
   "rewrites": [
     {
       "source": "/api/(.*)",
       "destination": "server/src/app.js"
     },
     {
       "source": "/sw.js",
       "headers": {
         "cache-control": "public, max-age=0, must-revalidate",
         "Service-Worker-Allowed": "/"
       },
       "destination": "client/sw.js"
     },
     {
       "source": "/(.*)\\.(?:js|css|png|jpg|jpeg|gif|ico|json|svg)$",
       "destination": "client/$1"
     },
     {
       "source": "^/$|^/artikel$|^/tentang-kami$|^/register$|^/login$|^/forgot-password$|^/pelaporan(/.*)?$|^/admin(/.*)?$",
       "destination": "client/public/index.html"
     }
   ]
 }
 