{
   "version": 2,
   "builds": [
     {
       "src": "client/package.json",
       "use": "@vercel/static-build",
       "config": {
         "distDir": "dist"
       }
     },
     {
       "src": "server/src/app.js",
       "use": "@vercel/node"
     }
   ],
   "rewrites": [
     {
       "source": "/api/(.*)",
       "destination": "server/src/app.js"
     },
     {
       "source": "/sw.js",
       "destination": "client/sw.js",
       "has": [
         {
           "type": "header",
           "key": "Service-Worker-Allowed",
           "value": "/"
         }
       ]
     },
     {
       "source": "/:path*\\.(js|css|png|jpg|jpeg|gif|ico|json|svg)",
       "destination": "client/:path*"
     },
     {
       "source": "^/$|^/artikel$|^/tentang-kami$|^/register$|^/login$|^/forgot-password$|^/pelaporan(/.*)?$|^/admin(/.*)?$",
       "destination": "client/public/index.html"
     },
     {
       "source": "/(.*)",
       "destination": "client/public/index.html"
     }
   ],
   "headers": [
     {
       "source": "/sw.js",
       "headers": [
         {
           "key": "Cache-Control",
           "value": "public, max-age=0, must-revalidate"
         },
         {
           "key": "Service-Worker-Allowed",
           "value": "/"
         }
       ]
     }
   ]
 }